{"version":3,"sources":["webpack://roov/webpack/universalModuleDefinition","webpack://roov/webpack/runtime/load script","webpack://roov/./src/player.js","webpack://roov/webpack/bootstrap","webpack://roov/webpack/startup","webpack://roov/webpack/runtime/create fake namespace object","webpack://roov/webpack/runtime/define property getters","webpack://roov/webpack/runtime/ensure chunk","webpack://roov/webpack/runtime/get javascript chunk filename","webpack://roov/webpack/runtime/global","webpack://roov/webpack/runtime/hasOwnProperty shorthand","webpack://roov/webpack/runtime/make namespace object","webpack://roov/webpack/runtime/publicPath","webpack://roov/webpack/runtime/jsonp chunk loading"],"names":["root","factory","exports","module","define","amd","self","inProgress","dataWebpackPrefix","adsManager","_player","_playerConfig","_timeupdateListener","_onFinishListener","player","constructor","config","destroy","this","destroyPlayer","initializeAudio","initializeConfigAds","setupEvent","src","autoplay","_src","document","getElementById","setAttribute","isHLS","muted","play","console","log","withAds","adElement","adsURL","onPlaying","onBuffering","getBufferLength","onFinish","google","_withAds","_adElement","_adsURL","initializeIMA","removeEventListener","onloaderror","onTimeUpdate","timeupdateListener","onFinishListener","isAllAdsCompleted","addEventListener","bufferedEnd","currentSeconds","buffered","duration","length","i","start","currentTime","end","_hls","_adContainer","_adDisplayContainer","ima","AdDisplayContainer","_adsLoader","AdsLoader","AdsManagerLoadedEvent","Type","ADS_MANAGER_LOADED","e","onAdsManagerLoaded","AdErrorEvent","AD_ERROR","onAdError","contentComplete","isContentFinished","_adsRequest","AdsRequest","adTagUrl","linearAdSlotWidth","clientWidth","linearAdSlotHeight","clientHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","requestAds","event","_adsManager","getAdsManager","AdEvent","CONTENT_PAUSE_REQUESTED","onContentPauseRequested","CONTENT_RESUME_REQUESTED","onContentResumeRequested","LOADED","onAdLoaded","STARTED","onAdEvent","COMPLETE","AD_BUFFERING","ALL_ADS_COMPLETED","AD_PROGRESS","loadAds","currentType","type","isAdsPlaying","state","adData","getAdData","ad","getAd","isLinear","getError","pause","isAdsLoaded","preventDefault","load","initialize","width","height","init","ViewMode","NORMAL","adError","resume","then","default","Hls","isSupported","loadSource","attachMedia","on","Events","MANIFEST_PARSED","playVideo","canPlayType","test","volume","v","Object","keys","setVolume","isPlaying","paused","currentSource","seek","time","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","t","value","mode","__esModule","ns","create","r","def","key","d","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","l","url","done","push","script","needAttach","undefined","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","fn","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","Error","replace","p","installedChunks","826","j","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","chunkLoadingGlobal","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","resolves","shift"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"roov\"] = factory();\n\telse\n\t\troot[\"roov\"] = factory();\n})(self, function() {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"roov:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => fn(event));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","let adsManager, _player, _playerConfig, _timeupdateListener, _onFinishListener\r\n\r\nexport default class player {\r\n  constructor(config) {\r\n    if (adsManager) {\r\n      adsManager.destroy()\r\n    }\r\n    if (_player) {\r\n      this.destroyPlayer(_playerConfig)\r\n    }\r\n\r\n    // init audio\r\n    this.initializeAudio(config);\r\n\r\n    // init ads\r\n    this.initializeConfigAds(config);\r\n\r\n    // setup event\r\n    this.setupEvent(config);\r\n  }\r\n\r\n  initializeAudio({ src = \"\", autoplay = false }) {\r\n    this._src = src;\r\n    this._player = document.getElementById('roov-player');\r\n    _player = this._player\r\n    this._player.setAttribute(\"playsinline\", \"\");\r\n    this._player.src = !this.isHLS() ? src : '';\r\n    if (autoplay) {\r\n      this._player.muted = true\r\n      this.play()\r\n    }\r\n    console.log('isHLS', this.isHLS())\r\n  }\r\n\r\n  initializeConfigAds({\r\n    withAds = false,\r\n    adElement = \"ad-container\",\r\n    adsURL,\r\n    onPlaying,\r\n    onBuffering,\r\n    getBufferLength,\r\n    onFinish\r\n  }) {\r\n    if (typeof google === \"undefined\") {\r\n      return;\r\n    }\r\n    this._withAds = withAds;\r\n    this._adElement = adElement;\r\n    this._adsURL = adsURL;\r\n    if (withAds) {\r\n      this.onPlaying = onPlaying\r\n      this.onBuffering = onBuffering\r\n      this.getBufferLength = getBufferLength\r\n      this.onFinish = onFinish\r\n      this.initializeIMA();\r\n    }\r\n  }\r\n\r\n  destroyPlayer({\r\n    onPlaying,\r\n    onBuffering\r\n  }) {\r\n    _player.removeEventListener(\"playing\", onPlaying);\r\n    _player.removeEventListener(\"waiting\", onBuffering);\r\n    _player.removeEventListener(\"ended\", _onFinishListener);\r\n    _player.removeEventListener(\"timeupdate\", _timeupdateListener);\r\n  }\r\n\r\n  setupEvent({\r\n    onPlaying,\r\n    onloaderror,\r\n    onFinish,\r\n    onTimeUpdate,\r\n    onBuffering,\r\n    getBufferLength\r\n  }) {\r\n    _playerConfig = { onPlaying, onBuffering }\r\n\r\n    this.onloaderror = onloaderror;\r\n\r\n    let timeupdateListener, onFinishListener = () => {\r\n      if (this.isAllAdsCompleted || !this._withAds) {\r\n        onFinish()\r\n      }\r\n    }\r\n\r\n    _onFinishListener = onFinishListener\r\n\r\n    if (onPlaying) {\r\n      this._player.addEventListener(\"playing\", onPlaying);\r\n    }\r\n    if (onBuffering) {\r\n      this._player.addEventListener(\"waiting\", onBuffering);\r\n    }\r\n    if (onFinish) {\r\n      this._player.addEventListener(\"ended\", onFinishListener);\r\n    }\r\n    this._player.addEventListener(\"timeupdate\", timeupdateListener = () => {\r\n      if (onTimeUpdate) {\r\n        onTimeUpdate();\r\n      }\r\n      if (getBufferLength) {\r\n        let bufferedEnd, currentSeconds\r\n        const buffered = this._player.buffered;\r\n        const duration = this._player.duration;\r\n        if (buffered.length > 0) {\r\n          for (var i = 0; i < buffered.length; i++) {\r\n            if (buffered.start(buffered.length - 1 - i) < this._player.currentTime) {\r\n              bufferedEnd = (buffered.end(buffered.length - 1 - i) / duration) * 100\r\n              currentSeconds = (this._player.currentTime / duration) * 100\r\n              if (this._hls) {\r\n                getBufferLength(0, 0);\r\n              } else {\r\n                getBufferLength(currentSeconds, bufferedEnd);\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      _timeupdateListener = timeupdateListener\r\n    });\r\n  }\r\n\r\n  initializeIMA() {\r\n    console.log('initializing IMA')\r\n    this._adContainer = document.getElementById(this._adElement)\r\n    // this._adContainer.addEventListener('click', () => { \r\n    //   this.adContainerClick() \r\n    // });\r\n    this._adDisplayContainer = new google.ima.AdDisplayContainer(this._adContainer, this._player);\r\n    this._adsLoader = new google.ima.AdsLoader(this._adDisplayContainer);\r\n\r\n    this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, (e) => {\r\n      this.onAdsManagerLoaded(e)\r\n    }, false);\r\n\r\n    this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, (e) => {\r\n      this.onAdError(e)\r\n    }, false);\r\n\r\n    this._player.addEventListener('ended', () => {\r\n      this._adsLoader.contentComplete();\r\n      this.isContentFinished = true //prevent post-roll to re-play the content\r\n    })\r\n\r\n    this._adsRequest = new google.ima.AdsRequest();\r\n    this._adsRequest.adTagUrl = this._adsURL\r\n\r\n    this._adsRequest.linearAdSlotWidth = this._player.clientWidth;\r\n    this._adsRequest.linearAdSlotHeight = this._player.clientHeight;\r\n    this._adsRequest.nonLinearAdSlotWidth = this._player.clientWidth;\r\n    this._adsRequest.nonLinearAdSlotHeight = this._player.clientHeight / 3;\r\n\r\n    this._adsLoader.requestAds(this._adsRequest);\r\n  }\r\n  // adContainerClick() {\r\n  //   console.log(\"ad container clicked\");\r\n  //   if (this._player.paused) {\r\n  //     this.play();\r\n  //   } else {\r\n  //     this.pause();\r\n  //   }\r\n  // }\r\n  onAdsManagerLoaded(event) {\r\n    console.log('onAdsManagerLoaded')\r\n    this._adsManager = event.getAdsManager(this._player);\r\n    adsManager = this._adsManager\r\n    this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, (e) => { this.onAdError(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, () => { this.onContentPauseRequested() });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, () => { this.onContentResumeRequested() });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED, (e) => { this.onAdLoaded(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED, (e) => { this.onAdEvent(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE, (e) => { this.onAdEvent(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING, (e) => { this.onAdEvent(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED, (e) => { this.onAdEvent(e) });\r\n    this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS, (e) => { this.onAdEvent(e) });\r\n    this.loadAds(event)\r\n  }\r\n\r\n  onAdEvent(e) {\r\n    const currentType = google.ima.AdEvent.Type\r\n    switch (e.type) {\r\n      case currentType.STARTED:\r\n        this.isAdsPlaying = true\r\n        if (this.onPlaying) {\r\n          this.onPlaying({ state: 'ADS' })\r\n        }\r\n        break;\r\n      case currentType.AD_BUFFERING:\r\n        this.onBuffering()\r\n        break;\r\n      case currentType.COMPLETE:\r\n        this.isAdsPlaying = false\r\n        break;\r\n      case currentType.AD_PROGRESS:\r\n        let adData = e.getAdData();\r\n        if (this.getBufferLength) {\r\n          this.getBufferLength(adData.currentTime, adData.duration);\r\n        }\r\n        break;\r\n      case currentType.ALL_ADS_COMPLETED:\r\n        this.isAllAdsCompleted = true\r\n        if (this.isContentFinished) {\r\n          this.onFinish()\r\n        }\r\n        break;\r\n      default:\r\n        console.log('onAdEvent')\r\n    }\r\n  }\r\n\r\n  onAdLoaded(event) {\r\n    let ad = event.getAd();\r\n    console.log('onAdLoaded')\r\n    if (!ad.isLinear()) {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  onAdError(event) {\r\n    console.log(event.getError());\r\n    if (this._adsManager) {\r\n      this._adsManager.destroy();\r\n    }\r\n  }\r\n\r\n  onContentPauseRequested() {\r\n    this.pause();\r\n  }\r\n\r\n  onContentResumeRequested() {\r\n    this.play();\r\n  }\r\n\r\n  loadAds(event) {\r\n    // Prevent this function from running on if there are already ads loaded\r\n    if (this.isAdsLoaded) {\r\n      return;\r\n    }\r\n    this.isAdsLoaded = true\r\n\r\n    // Prevent triggering immediate playback when ads are loading\r\n    event.preventDefault();\r\n\r\n    console.log(\"loading ads\");\r\n\r\n    this._player.load();\r\n    this._adDisplayContainer.initialize();\r\n\r\n    let width = this._player.clientWidth;\r\n    let height = this._player.clientHeight;\r\n    try {\r\n      this._adsManager.init(width, height, google.ima.ViewMode.NORMAL);\r\n      this._adsManager.start();\r\n    } catch (adError) {\r\n      // Play the video without ads, if an error occurs\r\n      console.log(\"AdsManager could not be started\", adError);\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  play() {\r\n    if (this.isAdsPlaying) {\r\n      this._adsManager.resume()\r\n      return;\r\n    }\r\n    if (this.isHLS()) {\r\n      import(/* webpackChunkName: \"Hls\" */ 'hls.js/dist/hls.light').then(({ default: Hls }) => {\r\n        if (Hls.isSupported()) {\r\n          this._hls = new Hls();\r\n          this._hls.loadSource(this._src);\r\n          this._hls.attachMedia(this._player);\r\n          this._hls.on(Hls.Events.MANIFEST_PARSED, () => {\r\n            this.playVideo()\r\n          });\r\n        }\r\n        else if (this._player.canPlayType('application/vnd.apple.mpegurl')) {\r\n          this._player.src = this._src;\r\n          this._player.addEventListener('loadedmetadata', () => {\r\n            this.playVideo()\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.playVideo()\r\n    }\r\n  }\r\n\r\n  playVideo() {\r\n    if ((this.isAdsLoaded || !this._withAds) && !this.isContentFinished) {\r\n      this._player.play()\r\n    }\r\n  }\r\n\r\n  isHLS() {\r\n    return /.m3u8$/.test(this._src);\r\n  }\r\n\r\n  pause() {\r\n    this._player.pause()\r\n    if (this.isAdsPlaying) {\r\n      this._adsManager.pause()\r\n    }\r\n  }\r\n\r\n  volume(v) {\r\n    if (this._adsManager) {\r\n      if (Object.keys(this._adsManager).length != 0) {\r\n        this._adsManager.setVolume(v);\r\n      }\r\n    }\r\n    this._player.volume = v;\r\n  }\r\n\r\n  duration() {\r\n    return this._hls ? \"Infinity\" : this._player.duration;\r\n  }\r\n\r\n  isPlaying() {\r\n    return !this._player.paused;\r\n  }\r\n\r\n  currentSource() {\r\n    return this._player.src;\r\n  }\r\n\r\n  currentTime() {\r\n    return this._player.currentTime;\r\n  }\r\n\r\n  seek(time) {\r\n    this._player.currentTime = time;\r\n  }\r\n\r\n  muted() {\r\n    if (this._player.volume != 0) {\r\n      this.volume(0);\r\n    } else {\r\n      this.volume(1);\r\n    }\r\n  }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(771);\n","// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tif(mode & 2 && typeof value == 'object' && value) {\n\t\tfor(const key in value) def[key] = () => value[key];\n\t}\n\tdef['default'] = () => value;\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + \"Hls\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => {\n\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n\t\t\t\t\t});\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no deferred startup\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tparentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkroov\"] = self[\"webpackChunkroov\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = webpackJsonpCallback;"],"sourceRoot":""}